<!-- products.component.html -->
<div class="container mt-4">
  <h1 class="mb-4">Products</h1>

  <!-- Search bar -->
  <div class="input-group mb-3">
    <input type="text" class="form-control flex-grow-1" placeholder="Search products..." [(ngModel)]="searchText"
      (input)="filterProducts()">
      <div class="input-group-append w-25 ms-1">
        <select class="form-control" [(ngModel)]="selectedType" (change)="filterProducts()">
          <option value="">All Types</option>
          <option value="fruits">Fruits</option>
          <option value="vegetables">Vegetables</option>
          <option value="dairy">Dairy</option>
        </select>
      </div>
  </div>

  <!-- Product list -->
  <div class="row" infinite-scroll [infiniteScrollDistance]="2" [infiniteScrollThrottle]="150" (scrolled)="onScroll()">
    <div class="col-md-2 col-sm-3 mb-4" *ngFor="let product of displayedProducts">
      <div class="product-card">
        <div class="product-image">
          <img [src]="product.imageUrl" alt="{{ product.name }}">
        </div>
        <div class="product-name">
          <h5>{{ product.name }}</h5>
        </div>
      </div>
    </div>
  </div>
</div>